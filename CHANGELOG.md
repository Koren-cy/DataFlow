# 变更日志

本文档记录了DataFlow项目的所有重要变更。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布]

### 新增
- 完整的企业级文档体系
- API文档详细说明所有节点接口
- 开发者指南包含完整的开发流程
- 用户指南提供详细的使用教程
- 性能基准测试数据
- 代码质量检查工具集成

### 改进
- README文档重构，更加专业和详细
- 项目结构优化，符合企业级标准
- 文档组织结构更加清晰

### 修复
- 文档中的链接和引用错误
- 代码示例的准确性

## [0.0.1] - 2025-01-XX

### 新增
- 初始项目结构
- 基础节点实现
- ComfyUI集成支持

#### 数据采集类节点
- **ReadCSV**: CSV文件读取功能
  - 支持自动编码检测
  - 自动数据类型推断
  - 路径处理优化

#### 数据处理类节点
- **DropNA**: 缺失值处理
  - 自动检测并删除包含NaN的行
  - 保持数据结构完整性

- **DropINF**: 无穷值处理
  - 检测并删除包含inf/-inf的行
  - 处理数值计算异常结果

- **Normalize**: 数据标准化
  - Z-Score标准化
  - Min-Max标准化
  - Robust标准化
  - 支持指定列处理

- **SelectColumns**: 列选择
  - 灵活的列名指定
  - 多列选择支持
  - 错误检查和提示

- **BalanceData**: 数据平衡
  - SMOTE过采样算法
  - 随机过采样/欠采样
  - ADASYN自适应采样
  - 支持多类别平衡

#### 机器学习类节点
- **PCA**: 主成分分析
  - 线性降维功能
  - 多种可视化选项
  - 自动生成分析图表
  - 支持标签着色
  - 特征贡献度分析

- **UMAP**: 非线性降维
  - 保持拓扑结构
  - 可调节邻居参数
  - 最小距离控制
  - 高效算法实现

#### 可视化类节点
- **ShowAny**: 通用数据展示
  - 支持多种数据类型
  - 自动格式转换
  - JSON序列化支持

- **ShowDOM**: DOM容器展示
  - HTML内容渲染
  - 自定义容器类型
  - Web界面集成

- **ShowPygwalker**: 交互式数据探索
  - 类Tableau界面
  - 拖拽式图表创建
  - 多种图表类型
  - 主题选择支持

- **ShowStreamlit**: Streamlit应用
  - Web应用集成
  - 自定义应用标题
  - 动态内容展示

#### 辅助工具
- **Visualization**: 可视化基础类
  - 中文字体支持
  - 自动文件夹创建
  - 时间戳命名
  - 跨平台兼容性

### 技术特性
- **依赖管理**: 完整的依赖声明
  - pandas >= 1.3.0
  - scikit-learn >= 1.0.0
  - seaborn >= 0.12.0
  - imbalanced-learn >= 0.8.0
  - numpy >= 1.20.0
  - plotly >= 5.0.0
  - umap-learn >= 0.5.0
  - matplotlib >= 3.0.0
  - pygwalker >= 0.3.0

- **开发工具**: 完整的开发环境
  - ruff代码格式化
  - mypy类型检查
  - pytest测试框架
  - pre-commit钩子
  - coverage覆盖率检查

- **项目配置**: 标准化配置
  - pyproject.toml配置文件
  - MIT开源许可证
  - GitHub Actions CI/CD
  - 语义化版本管理

### 文档
- 基础README文档
- 项目许可证
- 编辑器配置
- Git忽略规则
- 包清单文件

### 已知问题
- 大数据集处理时内存占用较高
- 某些可视化功能需要额外的Web服务支持
- 中文路径在某些系统上可能存在兼容性问题

### 性能数据
- CSV读取: 100万行数据约2秒
- PCA降维: 10万行×100列约5秒
- UMAP降维: 5万行×50列约30秒
- 数据清洗: 100万行约1秒

*测试环境: Intel i7-10700K, 32GB RAM, Python 3.9*

---

## 版本说明

### 版本号格式

本项目使用语义化版本号 `MAJOR.MINOR.PATCH`：

- **MAJOR**: 不兼容的API修改
- **MINOR**: 向下兼容的功能性新增
- **PATCH**: 向下兼容的问题修正

### 变更类型

- **新增**: 新功能
- **改进**: 对现有功能的改进
- **修复**: 问题修复
- **移除**: 移除的功能
- **安全**: 安全相关的修复
- **废弃**: 即将移除的功能

### 发布周期

- **主版本**: 根据重大功能更新发布
- **次版本**: 每月发布，包含新功能和改进
- **修订版本**: 根据需要发布，主要包含bug修复

---

## 路线图

### v0.1.0 (计划中)

#### 新增功能
- **数据源扩展**
  - Excel文件读取支持
  - JSON数据读取
  - 数据库连接器
  - API数据获取

- **新增算法节点**
  - t-SNE降维算法
  - ICA独立成分分析
  - 聚类算法 (K-means, DBSCAN)
  - 异常检测算法

- **数据处理增强**
  - 数据类型转换节点
  - 特征工程节点
  - 数据合并节点
  - 时间序列处理

#### 性能优化
- 并行处理支持
- 内存使用优化
- 大数据集处理改进
- 缓存机制实现

#### 用户体验
- 节点参数验证增强
- 错误信息改进
- 进度指示器
- 操作撤销功能

### v0.2.0 (计划中)

#### 高级功能
- 自定义节点开发框架
- 工作流模板系统
- 批处理模式
- 结果导出功能

#### 集成扩展
- Jupyter Notebook集成
- 云平台支持
- 第三方工具集成
- API服务模式

### v1.0.0 (长期目标)

#### 企业级功能
- 用户权限管理
- 工作流版本控制
- 协作功能
- 审计日志

#### 生态系统
- 插件市场
- 社区贡献平台
- 培训资源
- 认证体系

---

## 贡献指南

### 如何贡献变更日志

1. **添加新条目**: 在 `[未发布]` 部分添加您的更改
2. **选择正确类型**: 使用适当的变更类型标签
3. **描述清晰**: 简洁明了地描述变更内容
4. **影响说明**: 如果是破坏性变更，请详细说明

### 变更描述规范

- 使用现在时态："添加功能" 而不是 "添加了功能"
- 以动词开头："修复"、"添加"、"改进"
- 包含相关的issue或PR编号
- 对于破坏性变更，使用 `**BREAKING CHANGE:**` 标记

### 示例格式

```markdown
### 新增
- 添加新的数据导入节点 (#123)
- 支持Excel文件格式读取

### 改进
- 优化PCA算法性能，提升50%处理速度 (#124)
- 改进错误信息的可读性

### 修复
- 修复大数据集内存溢出问题 (#125)
- 解决中文路径兼容性问题

### 移除
- **BREAKING CHANGE:** 移除已废弃的旧版API (#126)
```

---

## 致谢

感谢所有为DataFlow项目做出贡献的开发者和用户！

### 核心贡献者
- **Koren** - 项目创始人和主要维护者

### 特别感谢
- ComfyUI社区提供的技术支持
- 开源社区的宝贵反馈和建议
- 所有测试用户的耐心和支持

---

*本变更日志将持续更新，记录项目的每一个重要里程碑。*